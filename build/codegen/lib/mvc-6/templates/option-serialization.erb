%if serialize?
%if template?
            if (<%=csharp_name%>Id.HasValue())
            {
                settings["<%= name %>"] = new ClientHandlerDescriptor {
                    HandlerName = string.Format(
                        "jQuery('{0}{1}').html()", <%=id_prefix%>, <%=csharp_name%>Id
                    )
                };
            }
            else if (<%=csharp_name%>.HasValue())
            {
                settings["<%= name %>"] = <%=csharp_name%>;
            }
%elsif csharp_type.eql?('string') || handler?
            if (<%=csharp_name%>.HasValue())
            {
                settings["<%= name %>"] = <%=csharp_name%>;
            }
%elsif csharp_array?
            if (<%=csharp_name%> != null && <%=csharp_name%>.Any())
            {
                settings["<%= name %>"] = <%=csharp_name%>;
            }
%elsif dictionary?
            if (<%=csharp_name%>.Any())
            {
                settings["<%= name %>"] = <%=csharp_name%>;
            }
%elsif enum?
            if (<%=csharp_name%>.HasValue)
            {
                settings["<%= name %>"] = <%=csharp_name%>?.Serialize();
            }
%else
            if (<%= csharp_name %>.HasValue)
            {
                settings["<%= name %>"] = <%= csharp_name %>;
            }
%end

%end
