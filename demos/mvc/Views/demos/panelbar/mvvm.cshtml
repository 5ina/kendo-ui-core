<div id="example">
    <div class="demo-section k-content">
        <div>
            <h4>Select a node</h4>
            <div class="files"
                 data-role="panelbar"
                 data-text-field="name"
                 data-spritecssclass-field="type"
                 data-bind="visible: isVisible,
                            source: files,
                            events: { select: onSelect }"></div>
        </div>
        <div style="padding-top: 2em;">
            <h4>Console</h4>
            <div class="console"></div>
        </div>
        <div style="padding-top: 2em;">
            <h4>Current view model state:</h4>
            <pre>
    {
        name: <span data-bind="text: name"></span>,
        files: <span data-bind="text: printFiles"></span>
    }
            </pre>
        </div>
    </div>
    <div class="box">
        <div class="box-col">
            <h4>Configuration</h4>
            <div>
                <label><input type="checkbox" data-bind="checked: isVisible">Visible</label>
            </div>
        </div>
        <div class="box-col">
            <h4>Information</h4>
            Kendo UI PanelBar supports the
            <a href="http://docs.telerik.com/kendo-ui/getting-started/framework/mvvm/bindings/events">events</a>,
            <a href="http://docs.telerik.com/kendo-ui/getting-started/framework/mvvm/bindings/source">source</a> and
            <a href="http://docs.telerik.com/kendo-ui/getting-started/framework/mvvm/bindings/visible">visible</a> bindings.
        </div>
    </div>
    <script>
    var viewModel = kendo.observable({
        isVisible: true,
        onSelect: function(e) {
            var panelBar = e.sender;
            var text = panelBar.dataItem($(e.item)).name;
            kendoConsole.log("event :: select (" + text + ")");
        },
        files: kendo.observableHierarchy([
            { name: "My Web Site", type: "k-icon k-i-folder", expanded: true, items: [
                { name: "images", type: "k-icon k-i-folder", expanded: true, items: [
                    { name: "logo.png", type: "k-icon k-i-image" },
                    { name: "my-photo.jpg", type: "k-icon k-i-image" }
                ] },
                { name: "resources", type: "k-icon k-i-folder", expanded: true, items: [
                    { name: "resources", type: "k-icon k-i-folder" },
                    { name: "zip", type: "k-icon k-i-folder" }
                ] },
                { name: "about.html", type: "k-icon k-i-html" },
                { name: "index.html", type: "k-icon k-i-html" }
            ] }
        ]),
        printFiles: function() {
            // helper function that prints the relevant data from the hierarchical model
            var items = this.get("files").toJSON();

            function removeFields(item) {
                delete item.index;

                if (!item.items || !item.items.length) {
                    delete item.items;
                } else {
                    item.items = $.map(item.items, removeFields);
                }

                return item;
            }

            $.map(items, removeFields);

            var jsonString = JSON.stringify(items, null, 2);

            return jsonString.replace(/\n/gi, "\n    ")
                        .replace(/\n\s*("name)/gi, " $1")
                        .replace(/\n\s*("type)/gi, " $1")
                        .replace(/\n\s*("expanded)/gi, " $1")
                        .replace(/\n\s*("selected)/gi, " $1")
                        .replace(/\n\s*("items)/gi, " $1")
                        .replace(/\s*\n\s*(})/gi, " $1")
                        .replace(/(\s*)]\n\s*}/gi, "] }");
        }
    });
    kendo.bind($("#example"), viewModel);
    </script>
    <style>
        .demo-section pre {
            font-size: 12px;
            width: 100%;
            white-space: pre-wrap;
        }

        .files h3 {
            color: #787878;
            border-bottom: 1px solid #ccc;
            padding-bottom: .4em;
            margin-bottom: .4em;
        }

        .files .k-panelbar {
            height: 300px;
        }
    </style>
</div>



















@*<div id="example">
    <div class="demo-section k-content">
        <div>
            <h4>Select an item</h4>
            <ul data-role="panelbar"
                data-bind="events: { select: onSelect },
                           visible: isVisible">
                <li class="k-state-active">
                    Metallica - Master of Puppets 1986
                    <ul>
                        <li>Battery</li>
                        <li>Master of Puppets</li>
                        <li>The Thing That Should Not Be</li>
                        <li>Welcome Home (Sanitarium)</li>
                        <li>Disposable Heroes</li>
                        <li>Leper Messiah</li>
                        <li>Orion (Instrumental)</li>
                        <li>Damage, Inc.</li>
                    </ul>
                </li>
                <li>
                    Iron Maiden - Brave New World 2000
                    <ul>
                        <li>The Wicker Man</li>
                        <li>Ghost Of The Navigator</li>
                        <li>Brave New World</li>
                        <li>Blood Brothers</li>
                        <li>The Mercenary</li>
                        <li>Dream Of Mirrors</li>
                        <li>The Fallen Angel</li>
                        <li>The Nomad</li>
                        <li>Out Of The Silent Planet</li>
                        <li>The Thin Line Between Love And Hate</li>
                    </ul>
                </li>
            </ul>
        </div>
        <div style="padding-top: 2em;">
            <h4>Console</h4>
            <div class="console"></div>
        </div>
    </div>
    <div class="box">
        <div class="box-col">
            <h4>Configuration</h4>
            <div>
                <label><input type="checkbox" data-bind="checked: isVisible">Visible</label>
            </div>
        </div>
        <div class="box-col">
            <h4>Information</h4>
            Kendo UI PanelBar supports the
            <a href="http://docs.telerik.com/kendo-ui/getting-started/framework/mvvm/bindings/events">events</a> and
            <a href="http://docs.telerik.com/kendo-ui/getting-started/framework/mvvm/bindings/visible">visible</a> bindings.
        </div>
    </div>
<script>
    var viewModel = kendo.observable({
        isVisible: true,
        onSelect: function(e) {
            var text = $(e.item).children(".k-link").text();
            kendoConsole.log("event :: select(" + text + ")");
        }
    });
    kendo.bind($("#example"), viewModel);
</script>
</div>*@
