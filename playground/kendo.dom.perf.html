<!doctype html>
<html>
    <head>
        <script src="../src/jquery.js"></script>
        <script src="../src/kendo.core.js"></script>
        <script src="../src/kendo.dom.js"></script>
        <script src="dom.data.js"></script>
        <link rel="stylesheet" href="../dist/styles/web/kendo.common.min.css">
        <link rel="stylesheet" href="../dist/styles/web/kendo.default.min.css">
        <style>
            div {
                width: 500px;
                height: 500px;
                overflow: auto;
            }
            section {
                width: 700px;
                float: left;
            }
        </style>
    </head>
    <body>
        <section>
            <h3>DOM</h3>
            <button id="toggle-dom">toggle</button>
            <div id="root-dom"></div>
        </section>
        <section>
            <h3>innerHTML</h3>
            <button id="toggle-html">toggle</button>
            <div id="root-html"></div>
        </section>
        <script>
            var rootDom = document.getElementById("root-dom");
            var tree = new kendo.dom.Tree(rootDom);
            var rootHtml = document.getElementById("root-html");
            var largeDom = true;
            var largeHtml = true;

            function now() {
                return window.performance && window.performance.now ? window.performance.now() : new window.Date().getTime()
            }

            document.getElementById("toggle-dom").onclick = function () {
                largeDom = !largeDom;

                var start = now();
                renderDom(largeDom);
                console.log(now() - start);

                return false;
            }

            document.getElementById("toggle-html").onclick = function () {
                largeHtml = !largeHtml;

                var start = now();
                renderHtml(largeHtml);
                console.log(now() - start);

                return false;
            }

            function renderDom() {
                var rows = [];
                var level;
                var headers;
                var column;

                for (var i = 0; i < 7600; i++) {
                    rows.push(tree.element("div", { style: { position:"absolute", background: "black", top: i + "px", height: "2px", width: "100px" } }));
                }

                tree.render([tree.element("div", { style: { position: "relative" } }, rows)]);
            }

            function renderHtml() {
                var rows = [];
                var level;
                var headers;
                var column;

                for (var i = 0; i < 7600; i++) {
                    rows.push("<div style='position:absolute;background:black;top:" +  i + "px;height:2px;width:100px'></div>");
                }

                rootHtml.innerHTML = "<div style='position:relative'>" + rows.join("") + "</div>";
            }

            renderDom(largeDom);
            renderHtml(largeHtml);
        </script>
    </body>
</html>
