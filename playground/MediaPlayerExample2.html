<!DOCTYPE html>
<!--
!!! README FIRST !!!
To enable proper compilation of the LESS files in the example you need to do the following:
- Host the playground with IIS
- Add LESS file to IIS MIME types
  1) File location: %USERPROFILE%\Documents\IISExpress\config\applicationhost.config
  OR
  1) Add the MIME type via the IIS Manager
  2) Less setting: <mimeMap fileExtension=".less" mimeType="text/css" />
  3) If you need to reset IIS, open Administrator console and type "iisreset"
-->
<html>

<head>
    <title>MediaPlayer</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.3.js"></script>

    <script>
        less = {
            env: "production",
            logLevel: 0,
            async: true,
            fileAsync: true,
            poll: 1000
        };
    </script>

    <link href='//fonts.googleapis.com/css?family=Roboto+Slab:400,700' rel='stylesheet'>

    <link href="../styles/web/kendo.common.less" rel="stylesheet/less" type="text/css" />
    <link href="../styles/web/kendo.default.less" rel="stylesheet/less" type="text/css" />
    <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/2.6.1/less.min.js"></script>

    <script type="text/javascript">
        less.pageLoadFinished.then(function () { initialize(); });
    </script>

    <script type="text/javascript" src="../src/kendo.core.js"></script>
    <script type="text/javascript" src="../src/kendo.data.js"></script>
    <script type="text/javascript" src="../src/kendo.userevents.js"></script>
    <script type="text/javascript" src="../src/kendo.draganddrop.js"></script>
    <script type="text/javascript" src="../src/kendo.slider.js"></script>
    <script type="text/javascript" src="../src/kendo.popup.js"></script>
	<script type="text/javascript" src="../src/kendo.list.js"></script>
	<script type="text/javascript" src="../src/kendo.dropdownlist.js"></script>
    <script type="text/javascript" src="../src/kendo.toolbar.js"></script>
    <script type="text/javascript" src="../src/kendo.mediaplayer.js"></script>

    <script type="text/javascript" src="../src/kendo.listview.js"></script>
    <script type="text/javascript" src="../src/kendo.selectable.js"></script>

    <style>
        body {
            font-size: 12px;
            /*Temporary workaround for UI font*/
            font-family: 'Roboto', sans-serif;
        }
        /*Temporary workaround for the overlay*/

        .k-mediaplayer-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        /*Temporary workaround for the icon font*/

        @font-face {
            font-family: 'TelerikWebUI';
            src: url('../styles/web/common/TelerikWebUI.eot');
            src: url('../styles/web/common/TelerikWebUI.eot') format('embedded-opentype'), url('../styles/web/common/TelerikWebUI.woff') format('woff'), url('../styles/web/common/TelerikWebUI.ttf') format('truetype');
        }
        /*Temporary workaround for portrait images, to make the image fill (crop) the available space */

        .k-mediaplayer-playlist a img {
            object-fit: cover !important;
        }
        /*Temporary workaround for the toolbar height*/

        .k-mediaplayer-toolbar {
            padding-top: 0;
            padding-bottom: 0;
        }
        /*Temporary workaround for positioning of the slider (seekbar)*/

        .k-mediaplayer .k-mediaplayer-seekbar {
            position: absolute;
            bottom: 40px;
            left: 20px;
            right: 10px;
            opacity: 0.7;
        }
        /*Temporary workaround for the initial width of the volume slider*/

        .k-mediaplayer-volume {
            margin-left: 15px !important;
            margin-right: 15px !important;
        }
        /*Temporary workaround for z-index*/

        .k-mediaplayer-titlebar,
        .k-mediaplayer-toolbar {
            z-index: 2;
        }
		
        /*Temporary workaround for z-index and overlay size*/
        .k-mediaplayer-overlay {
            z-index: 1;
            width: 100%;
            height: 100%;
        }

        /*Temporary workaround for quality dropdown*/
		.k-mediaplayer-quality {
			width: 60px;
			display: block;
		}

        #fullscreen,
        #hdbutton {
            float: right;
        }
    </style>
</head>

<body>
    <div id="player1" style="width: 510px; height: 286px;"> </div>
    <div id="consoleOutput" style="width: 510px; height: 300px; background-color: #ccc"></div>

    <div id="listView" style="position:absolute; top:0; right: 0; height: 600px; width:600px; overflow: auto;"></div>

    <script type="text/x-kendo-template" id="template">
        <div class="video">
            <img style="width:300px" src="#:poster#" />
            <h3>#:title#</h3>
        </div>
    </script>

    <script type="text/javascript">
        function initialize() {
            var dataSource = new kendo.data.DataSource({
                data: [
				  { title: "Roxette - What's She Like?", url: "https://www.youtube.com/watch?v=cjFy5AYxx7k", poster: "https://i.ytimg.com/vi/O13fsGJv8dQ/hqdefault.jpg" },
				  { title: "Sepultura - Territory DRUM Cover", url: "https://www.youtube.com/watch?v=fDBmR8kEj3k", poster: "https://i.ytimg.com/vi/Pca2qOEHHpU/maxresdefault.jpg" },
                  { title: "Dalshabet - Big Baby Baby", url: "https://www.youtube.com/watch?v=vGKeA3xUzxU", poster: "https://s-media-cache-ak0.pinimg.com/736x/1e/bd/18/1ebd18cf578aaed5f6eacfc79a44d461.jpg" },
				  { title: "Gus Drax - Altitudes (Jason Becker Cover)", url: "https://www.youtube.com/watch?v=BmjAsjGbdXk", poster: "https://i.ytimg.com/vi/y-F3m8_R9fs/hqdefault.jpg" },
                  { title: "Big Buck Bunny", poster: "http://static4.opensubtitles.org/gfx/thumbs/7/0/2/4/1254207.jpg", url: "http://download.blender.org/peach/bigbuckbunny_movies/BigBuckBunny_320x180.mp4", hdurl: "http://www.webestools.com/page/media/videoTag/BigBuckBunny.ogg" },
				  { title: "Elephants Dream", poster: "http://iv1.lisimg.com/image/300164/450full-elephants-dream-poster.jpg", url: "http://video.webmfiles.org/elephants-dream.webm" },
				  { title: "Lego", poster: "http://i.imgur.com/WHwKxLn.png", url: "http://techslides.com/demos/sample-videos/small.ogv" },
				  { title: "Sample holder", poster: "http://i.imgur.com/CgRMQ5q.png", url: "http://openspim.org/images/2/20/10_Sample_holder.ogv" },
                  { title: "Just Code", poster: "http://i.imgur.com/D463uk4.png", url: "video/justCode.mp4" },
                  { title: "Costa Rica", poster: "video/images/youtubeLogo.png", url: "video/CostaRica.mp4" },
                  { title: "App Builder", poster: "video/images/AppBuilder.png", url: "video/appBuilder.mp4" },
                  { title: "Test Studio", poster: "video/images/TestStudio.png", url: "video/testStudio.mp4" }
                ]
            });

            function onChange() {
                var data = dataSource.view(),
                    selected = $.map(this.select(), function (item) {
                        return { "source": data[$(item).index()].url };
                    });

                $("#player1").data("kendoMediaPlayer").media(selected[0]);

                //kendoConsole.log("Selected: " + selected.length + " item(s), [" + selected.join(", ") + "]");
            }

            $("#listView").kendoListView({
                dataSource: dataSource,
                selectable: true,
				scrollable: true,
                change: onChange,
                template: kendo.template($("#template").html())
            });

            $("#player1").kendoMediaPlayer({
                end: onEnd,
                pause: onPause,
                play: onPlay,
                ready: onReady,
                timeChange: onTimeChange,
                volumeChange: onVolumeChange,
                autoPlay: true,
                mute: false
				// ,
                // media: { 
				// 	title: "Roxette - What's She Like?", 
				// 	source: "https://www.youtube.com/watch?v=cjFy5AYxx7k"
					// source: [
					// 	{ quality: "HQ1", url: "https://www.youtube.com/watch?v=cjFy5AYxx7k" },
					// 	{ quality: "HQ2", url: "https://www.youtube.com/watch?v=fDBmR8kEj3k" }
					// ] 
				// }
            });

            window.player1 = $("#player1").data("kendoMediaPlayer");

            /*Temporary workaround for playlist background color*/
            $(".k-mediaplayer-playlist").css("background-color", $(".k-mediaplayer-toolbar").css("background-color"));
        }

        function onEnd(e) {
            $("#consoleOutput").append("onEnd<br/>");
        }
        function onPause(e) {
            $("#consoleOutput").append("onPause<br/>");
        }
        function onPlay(e) {
            $("#consoleOutput").append("onPlay<br/>");
        }
        function onReady(e) {
            $("#consoleOutput").append("onReady<br/>");
        }
        function onTimeChange(e) {
            $("#consoleOutput").append("onTimeChange<br/>");
        }
        function onVolumeChange(e) {
            $("#consoleOutput").append("onVolumeChange<br/>");
        }

        function playVideo() {
            window.player1.play();
        }

        function pauseVideo() {
            window.player1.pause();
        }

        function stopVideo() {
            window.player1.stop();
        }

        function isPaused() {
            $("#consoleOutput").append(window.player1.isPaused().toString());
        }

        function isEnded() {
            $("#consoleOutput").append(window.player1.isEnded().toString());
        }

        function isPlaying() {
            $("#consoleOutput").append(window.player1.isPlaying().toString());
        }

        /* OPTIONS USAGE EXAMPLES */
        // 		playlist: {hidden: true}
        // 		playlist: {hidden: false, button: false}
    </script>
    <button onclick="playVideo();">Play</button>
    <button onclick="pauseVideo();">Pause</button>
    <button onclick="stopVideo();">Stop</button>
    <button onclick="isPaused();">isPaused</button>
    <button onclick="isEnded();">isEnded</button>
    <button onclick="isPlaying();">isPlaying</button>
</body>

</html>