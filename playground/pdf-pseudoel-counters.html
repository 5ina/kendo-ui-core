<!DOCTYPE html>
<html>
  <head>
    <style>html { font-size: 14px; font-family: Arial, Helvetica, sans-serif; }</style>
    <link rel="stylesheet" href="../dist/styles/web/kendo.common.css" />
    <link rel="stylesheet" href="../dist/styles/web/kendo.default.css" />
    <script src="./loader.js"></script>
    <script>
     requireSync([
         "../src/jquery.js",
         "../src/kendo.drawing.js",
         "../src/kendo.pdf.js"
     ]);
    </script>
    <style>

     .test {
       counter-reset: section;
     }

     .test h1 {
       counter-reset: subsection;
     }

     .test h2 {
       counter-reset: standards;
     }

     .test h3 {
       font-size: 0.944em;
       margin: 9px auto;
       padding-left: 30px;
       float: left;
     }

     .test h1:before {
       counter-increment: section;
       content: counter(section) " ";
     }

     .test h2:before {
       counter-increment: subsection;
       content: counter(section) "." counter(subsection) " ";
     }

     .test h3:before {
       counter-increment: standards;
       content: counter(section) "." counter(subsection) "." counter(standards) " ";
     }
    </style>
  </head>
  <body>
    <div id="example">
      <div class="box wide hidden-on-narrow">
        <h4>Export page content</h4>
        <div class="box-col">
          <button class='export-pdf k-button'>Export as PDF</button>
        </div>
      </div>

      <div class="demo-section k-content export-app wide hidden-on-narrow">
        <div class="demo-section content-wrapper wide">
          <section class="test">
            <div class="section">
              <h1 class="col-md-5">One</h1>

              <div class="col-md-12 subsections">
                <h2 class="col-md-4">Two</h2>

                <div class="col-md-12 standards">
                  <h3 class="col-md-5">Three </h3>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <script src="https://kendo.cdn.telerik.com/2017.1.223/js/pako_deflate.min.js"></script>

    <script>
     $(document).ready(function() {
         $(".export-pdf").click(function() {
             // Convert the DOM element to a drawing using kendo.drawing.drawDOM
             kendo.drawing.drawDOM($(".content-wrapper"))
                  .then(function(group) {
                      // Render the result as a PDF file
                      return kendo.drawing.exportPDF(group, {
                          paperSize: "auto",
                          margin: { left: "1cm", top: "1cm", right: "1cm", bottom: "1cm" }
                      });
                  })
                  .done(function(data) {
                      // Save the PDF file
                      kendo.saveAs({
                          dataURI: data,
                          fileName: "TestExport.pdf",
                          proxyURL: "https://demos.telerik.com/kendo-ui/service/export"
                      });
                  });
         });
     });
    </script>

  </body>
</html>
