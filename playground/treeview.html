<!DOCTYPE html>
<html>
  <head>
    <style>html { font-size: 12px; font-family: Arial, Helvetica, sans-serif; }</style>
    <title>TreeView / Nested MVVM</title>

    <link rel="stylesheet" href="../dist/styles/web/kendo.common.css"/>
    <link rel="stylesheet" href="../dist/styles/web/kendo.default.css"/>

    <script src="loader.js"></script>
    <script>
        requireSync([
            "../src/jquery.js",
            "../src/kendo.data.js",
            "../src/kendo.binder.js",
            "../src/kendo.treeview.js",
        ]);
    </script>
  </head>
  <body>
      <div id="example">
          <div class="demo-section k-header">
              <div class="box-col" style="width: 300px">
                  <h4>Select a node</h4>

                  <div id="firstTree"
                      data-role="treeview"
                      data-text-field="name"
                      data-bind="source: files"></div>
              </div>
              <div class="box-col" style="width: 300px">
                  <h4>Select a node</h4>
                  <div id="secondTree"
                      data-role="treeview"
                      data-text-field="name"></div>
              </div>
              <div class="box-col console-section">
                  <button data-bind="events:{click:onClick}">first tree</button>
                  <button data-bind="events:{click:onClick2}">second tree</button>
              </div>
          </div>

          <script>
              var otherFiles =  kendo.observableHierarchy([
                      { id: 1, name: "My Web Site", type: "folder", expanded: false, items: [
                      { id: 2, name: "images", type: "folder", expanded: false, items: [
                      { id: 3, name: "logo.png", type: "image" },
                      { id: 4, name: "my-photo.jpg", type: "image" }
                      ] },
                      { name: "resources", type: "folder", expanded: false, items: [
                      { name: "resources", type: "folder" },
                      { name: "zip", type: "folder" }
                      ] },
                      { name: "about.html", type: "html" },
                      { name: "index.html", type: "html" }
                      ] }
                      ]);

              var viewModel = kendo.observable({
files: kendo.observableHierarchy([
           { id: 1, name: "My Web Site", type: "folder", expanded: false, items: [
           { id: 2, name: "images", type: "folder", expanded: false, items: [
           { id: 3, name: "logo.png", type: "image" },
           { id: 4, name: "my-photo.jpg", type: "image" }
           ] },
           { name: "resources", type: "folder", expanded: false, items: [
           { name: "resources", type: "folder" },
           { name: "zip", type: "folder" }
           ] },
           { name: "about.html", type: "html" },
           { name: "index.html", type: "html" }
           ] }
           ]),
            onClick: function(){
                $("#firstTree").data("kendoTreeView").expandTo(4);
             }, 
            onClick2: function(){
              $("#secondTree").data("kendoTreeView").expandTo(4);
          }
});
kendo.bind($("#example"), viewModel);

$("#secondTree").data("kendoTreeView").setDataSource(otherFiles);
          </script>

      </div>
  </body>
</html>

