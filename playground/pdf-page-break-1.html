<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../dist/styles/web/kendo.common.css" />
    <link rel="stylesheet" href="../dist/styles/web/kendo.default.css" />
    <script src="loader.js"></script>
    <script src="html2canvas.min.js"></script>
    <script src="pako.min.js"></script>
    <script>
      requireSync([
        "../src/jquery.js",
        "../src/kendo.pdf.js",
        "../src/kendo.grid.js",
        "../src/kendo.dropdownlist.js",
        "./console.time.js",
        "./test-pdf-helpers.js"
      ]);
    </script>
    <style>
      body {
        font-size: 12px;
        font-family: "DejaVu Serif";
      }
      .page {
        border: 1px solid red;
        padding: 2em;
        box-sizing: border-box;
        background-color: #fea;
      }
      .page :first-child {
        margin-top: 0;
      }
      .page :last-child {
        margin-bottom: 0;
      }
      .page-break {
        border-top: 1px dashed #999;
      }
      .k-pdf-export .page-break { border-top: none }
    </style>
  </head>
  <body>
    <button>PDF</button>

    <select class="paper">
      <option value="A4" selected>A4</option>
      <option value="A5">A5</option>
      <option value="Letter">Letter</option>
    </select>

    <select class="margin">
      <option value="1cm">1cm</option>
      <option value="2cm" selected>2cm</option>
      <option value="3cm">3cm</option>
      <option value="4cm">4cm</option>
    </select>

    <select class="width">
      <option value="auto" selected>Auto</option>
      <option value="600px">600px</option>
      <option value="500px">500px</option>
      <option value="400px">400px</option>
      <option value="300px">300px</option>
      <option value="200px">200px</option>
      <option value="100px">100px</option>
      <option value="50px">50px</option>
    </select>

    <label>white-space: nowrap <input type="checkbox" /></label>

    <script>
      $("button").click(function(){
        pdfPages('#test1', {
          paperSize: $(".paper").val(),
          margin: $(".margin").val(),
          forcePageBreak: ".page-break"
        })
      });
      $("select.width").kendoDropDownList({
        change: function() {
          $("#test1").css({ width: this.value() });
        }
      });
      $("input[type=checkbox]").click(function(){
        $("#test1").css({
          whiteSpace: this.checked ? "nowrap" : ""
        });
      });
    </script>

    <div id="test1" class="page">

      <div style="width: 50%; height: 1000px; margin: 1em auto; border: 5px solid #000; background: yellow;">
        Huge element that doesn't fit on a page.<br />
        This second line should stay on first page.
      </div>

    </div>
  </body>
</html>
